(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"723k":function(t,e,r){"use strict";r.r(e),r.d(e,"ProfileModule",(function(){return v}));var c=r("tyNb"),n=r("Tj/N"),s=r("OaWH"),a=r("fXoL"),i=r("lGQG"),o=r("tLlE"),b=r("DJIC"),u=r("ofXK"),p=r("bv9b"),l=r("7EHt"),d=r("YK+t");function h(t,e){1&t&&a.Pb(0,"mat-progress-bar",6)}function m(t,e){if(1&t&&(a.Ub(0,"mat-expansion-panel"),a.Ub(1,"mat-expansion-panel-header"),a.Ub(2,"mat-panel-title"),a.Cc(3),a.hc(4,"date"),a.Tb(),a.Tb(),a.Pb(5,"order",8),a.Tb()),2&t){const t=e.$implicit,r=a.gc(2);a.Cb(3),a.Ec(" ",a.jc(4,4,t.date,"medium")," "),a.Cb(2),a.mc("cart",t.products)("currency",r.currencyState)("totalPrice",r.getTotalPrice(t.products))}}function f(t,e){if(1&t&&(a.Ub(0,"mat-accordion"),a.Ac(1,m,6,7,"mat-expansion-panel",7),a.Tb()),2&t){const t=a.gc();a.Cb(1),a.mc("ngForOf",t.purchases)}}function g(t,e){1&t&&(a.Ub(0,"div",9),a.Cc(1," You have not made any orders yet. "),a.Tb())}const C=[{path:"",component:(()=>{class t{constructor(t,e,r){this.auth=t,this.http=e,this.app=r,this.user=new n.a,this.purchases=[],this.loading=!1,this.Currensy=s.b,this.app.currencyState$.subscribe(t=>this.currencyState=t)}ngOnInit(){this.auth.user$.subscribe(t=>this.user=t),this.getPurchases()}getTotalPrice(t){if(t.length>0){let e=0;return t.forEach(t=>{e+=t.quantity*t.product.price}),e+2.99}}getPurchases(){this.loading=!0,this.http.find("orders").subscribe(t=>{this.purchases=t.body,this.loading=!1})}}return t.\u0275fac=function(e){return new(e||t)(a.Ob(i.a),a.Ob(o.a),a.Ob(s.a))},t.\u0275cmp=a.Ib({type:t,selectors:[["nat-profile"]],decls:26,vars:6,consts:[["title","Profile"],[1,"row","row-cols-1","row-cols-lg-2"],[1,"col"],["mode","indeterminate",4,"ngIf"],[4,"ngIf"],["class","text-center",4,"ngIf"],["mode","indeterminate"],[4,"ngFor","ngForOf"],[3,"cart","currency","totalPrice"],[1,"text-center"]],template:function(t,e){1&t&&(a.Pb(0,"upper",0),a.Ub(1,"div",1),a.Ub(2,"div",2),a.Ub(3,"h3"),a.Cc(4,"User information:"),a.Tb(),a.Ub(5,"p"),a.Ub(6,"strong"),a.Cc(7,"First name:"),a.Tb(),a.Pb(8,"br"),a.Cc(9),a.Tb(),a.Ub(10,"p"),a.Ub(11,"strong"),a.Cc(12,"Last name:"),a.Tb(),a.Pb(13,"br"),a.Cc(14),a.Tb(),a.Ub(15,"p"),a.Ub(16,"strong"),a.Cc(17,"Email:"),a.Tb(),a.Pb(18,"br"),a.Cc(19),a.Tb(),a.Tb(),a.Ub(20,"div",2),a.Ub(21,"h3"),a.Cc(22,"Purchase history:"),a.Tb(),a.Ac(23,h,1,0,"mat-progress-bar",3),a.Ac(24,f,2,1,"mat-accordion",4),a.Ac(25,g,2,0,"div",5),a.Tb(),a.Tb()),2&t&&(a.Cb(9),a.Ec(" ",e.user.firstName," "),a.Cb(5),a.Ec(" ",e.user.lastName," "),a.Cb(5),a.Ec(" ",e.user.email," "),a.Cb(4),a.mc("ngIf",e.loading),a.Cb(1),a.mc("ngIf",e.purchases.length>0),a.Cb(1),a.mc("ngIf",!e.loading&&0===e.purchases.length))},directives:[b.a,u.l,p.a,l.a,u.k,l.c,l.d,l.e,d.a],pipes:[u.e],styles:[""]}),t})()}];let T=(()=>{class t{}return t.\u0275mod=a.Mb({type:t}),t.\u0275inj=a.Lb({factory:function(e){return new(e||t)},imports:[[c.c.forChild(C)],c.c]}),t})();var y=r("PCNd"),U=r("5dmV"),P=r("sHgf"),w=r("RjRH");let v=(()=>{class t{}return t.\u0275mod=a.Mb({type:t}),t.\u0275inj=a.Lb({factory:function(e){return new(e||t)},imports:[[y.a,U.a,T,P.a,w.a]]}),t})()}}]);